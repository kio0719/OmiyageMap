<nav class="navbar navbar-expand navbar-light header-bg fixed-top">
  <div class="container">
    <%= link_to "おみやげ広場", root_path, class: "navbar-brand", data: { "turbolinks" => false } %>
    <ul class="navbar-nav ms-auto align-items-center">
      <% if user_signed_in? %>
        <li class="nav-item me-2">
          <%= link_to "投稿", new_post_path, class: "btn btn-primary", data: { "turbolinks" => false } %>
        </li>
        <li class="nav-item btn-group">
          <ul class="navbar-nav mx-auto dropdown-toggle d-flex align-items-center cursor-pointer" data-bs-toggle="dropdown">
            <% if current_user.icon.attached? %>
              <li class="nav-item"><%= image_tag current_user.icon.variant(resize_to_limit: [50, 50]), class: 'me-1 sm-circle-image'  %></li>
            <% else %>
              <li class="nav-item"><%= image_tag ("icon.png"), class: 'me-1 sm-circle-image' %></li>
            <% end %>
            <li class="nav-item"><%= current_user.name %></li>
          </ul>
          <ul class="dropdown-menu">
            <li><%= link_to "アカウント", edit_user_registration_path, class: "dropdown-item", data: { "turbolinks" => false } %></li>
            <li><%= link_to "プロフィール", users_profile_path(current_user), class: "dropdown-item", data: { "turbolinks" => false } %></li>
            <li><%= link_to "ログアウト", destroy_user_session_path, method: :delete, class: 'dropdown-item', data: { "turbolinks" => false } %></li>
          </ul>
        </li>
      <% else %>
        <li class="nav-item"><%= link_to "新規登録", new_user_registration_path, class: 'me-1 nav-link', data: { "turbolinks" => false } %></li>
        <li class="nav-item"><%= link_to 'ゲストログイン', users_guest_sign_in_path, method: :post, class: 'me-1 nav-link', data: { "turbolinks" => false } %></li>
        <li class="nav-item"><%= link_to "ログイン", new_user_session_path, class: "btn nav-link", data: { "turbolinks" => false } %></li>
      <% end %>
    </ul>
  </div>
</nav>
